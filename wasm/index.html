
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Super Stoner 420</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: #000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    /* Optional header styling */
    h1 {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      margin: 0;
      font-family: Arial, sans-serif;
    }
    /* The canvas will be resized dynamically */
    canvas {
      display: block;
      background-color: #f0f0f0; /* Optional: for visibility */
      border: 1px solid;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  
  <script type="text/javascript">
    // Define the base game resolution.
    // This is the internal resolution your game will render at.
    var baseWidth = 1440;
    var baseHeight = 1080;
    
    // Create the Module object used by Emscripten.
    var Module = {
      canvas: (function(){
        var canvas = document.getElementById('canvas');
        // Set the internal resolution of the canvas.
        canvas.width = baseWidth;
        canvas.height = baseHeight;
        return canvas;
      })(),
      onRuntimeInitialized: function() {
        console.log("Emscripten app is ready.");
        // Resize after runtime has initialized.
        resizeCanvas();
      }
    };

    // Function to adjust the canvas size while preserving the aspect ratio.
    function resizeCanvas() {
      var canvas = Module.canvas;
      // Calculate the aspect ratio from the base resolution.
      var aspect = baseWidth / baseHeight;
      // Get the available width and height of the viewport.
      var windowWidth = window.innerWidth;
      var windowHeight = window.innerHeight;
      
      // Determine which dimension limits the scaling to preserve the aspect ratio.
      if (windowWidth / windowHeight > aspect) {
        // If the window is wider than the game aspect ratio,
        // make canvas height equal to the window height and adjust width.
        canvas.style.height = windowHeight + 'px';
        canvas.style.width = (windowHeight * aspect) + 'px';
      } else {
        // Otherwise, make canvas width equal to the window width and adjust height.
        canvas.style.width = windowWidth + 'px';
        canvas.style.height = (windowWidth / aspect) + 'px';
      }
    }

    // Add an event listener to resize the canvas when the window is resized.
    window.addEventListener('resize', resizeCanvas);
  </script>
  
  <!-- Load the Emscripten generated JavaScript file -->
  <script src="SuperStoner.js?v=1.3"></script>
</body>
</html>
